<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form Functionality Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }

    .test-section {
      background: white;
      padding: 20px;
      margin: 20px 0;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .form-demo {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      margin: 20px 0;
    }

    .form-demo h3 {
      color: #333;
      margin-bottom: 15px;
    }

    .form-demo input,
    .form-demo textarea {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border: 1px solid #ddd;
      border-radius: 4px;
      box-sizing: border-box;
    }

    .form-demo button {
      background: #ff0066;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .form-demo button:hover {
      background: #0066ff;
    }

    .success {
      background: #d4edda;
      color: #155724;
      padding: 10px;
      border-radius: 4px;
      margin: 10px 0;
    }

    .error {
      background: #f8d7da;
      color: #721c24;
      padding: 10px;
      border-radius: 4px;
      margin: 10px 0;
    }
  </style>
</head>

<body>
  <h1>Hit-X Coding Form Functionality Test</h1>

  <div class="test-section">
    <h2>Form Features Implemented</h2>
    <ul>
      <li>✅ Editable form title (click to edit)</li>
      <li>✅ Configurable email address for form submissions</li>
      <li>✅ Form validation (all fields required)</li>
      <li>✅ Success/error notifications</li>
      <li>✅ Form reset after successful submission</li>
      <li>✅ Edit button opens configuration modal</li>
      <li>✅ Form data persistence when saving/loading projects</li>
    </ul>
  </div>

  <div class="test-section">
    <h2>How to Use the Form Feature</h2>
    <ol>
      <li>Drag a "Contact Form" element from the left sidebar to the canvas</li>
      <li>Click the edit button (✏️) on the form to open the configuration modal</li>
      <li>Set the form title and email address where submissions should be sent</li>
      <li>Click "Save Configuration" to apply the settings</li>
      <li>Users can now click on the form title to edit it directly</li>
      <li>When someone submits the form, it will send the data to the configured email</li>
    </ol>
  </div>

  <div class="form-demo">
    <h3 contenteditable="true" style="outline: none; border: 1px solid transparent; padding: 5px; margin-bottom: 15px;">
      Contact Form (Click to Edit Title)</h3>
    <form id="testForm">
      <input type="text" placeholder="Name" required>
      <input type="email" placeholder="Email" required>
      <textarea placeholder="Message" style="height: 100px;" required></textarea>
      <button type="submit">Send</button>
    </form>
    <div id="formMessage"></div>
  </div>

  <div class="test-section">
    <h2>Technical Implementation</h2>
    <ul>
      <li><strong>Form Creation:</strong> Forms are created with editable titles and configurable email addresses</li>
      <li><strong>Edit Modal:</strong> Clicking the edit button opens a modal to configure form title and email</li>
      <li><strong>Form Submission:</strong> Form data is collected and prepared for email sending</li>
      <li><strong>Validation:</strong> All fields are required and validated before submission</li>
      <li><strong>Persistence:</strong> Form configuration is saved with the project and restored on load</li>
      <li><strong>Styling:</strong> Forms have hover effects and focus states for better UX</li>
    </ul>
  </div>

  <script>
    // Demo form functionality
    const form = document.getElementById('testForm');
    const messageDiv = document.getElementById('formMessage');

    // Make form title editable
    const formTitle = document.querySelector('h3[contenteditable]');
    formTitle.addEventListener('focus', () => {
      formTitle.style.border = '1px solid #ff0066';
      formTitle.style.backgroundColor = 'rgba(255,255,255,0.9)';
    });
    formTitle.addEventListener('blur', () => {
      formTitle.style.border = '1px solid transparent';
      formTitle.style.backgroundColor = 'transparent';
    });

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const formData = new FormData(form);
      const name = form.querySelector('input[type="text"]').value;
      const email = form.querySelector('input[type="email"]').value;
      const message = form.querySelector('textarea').value;

      if (!name || !email || !message) {
        messageDiv.innerHTML = '<div class="error">Please fill in all fields!</div>';
        return;
      }

      // Simulate form submission
      messageDiv.innerHTML = '<div class="success">Message sent successfully! (Demo - would send to configured email)</div>';

      // Reset form
      form.reset();

      // Log the submission data
      console.log('Form submission:', { name, email, message });
    });
  </script>
</body>

</html>